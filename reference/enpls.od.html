<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Ensemble Partial Least Squares for Outlier Detection — enpls.od • enpls</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Ensemble Partial Least Squares for Outlier Detection — enpls.od"><meta name="description" content="Outlier detection with ensemble partial least squares."><meta property="og:description" content="Outlier detection with ensemble partial least squares."><meta property="og:image" content="https://nanx.me/enpls/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">enpls</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">6.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/enpls.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nanxstats/enpls/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Ensemble Partial Least Squares for Outlier Detection</h1>
      <small class="dont-index">Source: <a href="https://github.com/nanxstats/enpls/blob/master/R/enpls.od.R" class="external-link"><code>R/enpls.od.R</code></a></small>
      <div class="d-none name"><code>enpls.od.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Outlier detection with ensemble partial least squares.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">enpls.od</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">y</span>,</span>
<span>  maxcomp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cvfolds <span class="op">=</span> <span class="fl">5L</span>,</span>
<span>  reptimes <span class="op">=</span> <span class="fl">500L</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mc"</span>, <span class="st">"boot"</span><span class="op">)</span>,</span>
<span>  ratio <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  parallel <span class="op">=</span> <span class="fl">1L</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Predictor matrix.</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>Response vector.</p></dd>


<dt id="arg-maxcomp">maxcomp<a class="anchor" aria-label="anchor" href="#arg-maxcomp"></a></dt>
<dd><p>Maximum number of components included within each model.
If not specified, will use the maximum number possible (considering
cross-validation and special cases where n is smaller than p).</p></dd>


<dt id="arg-cvfolds">cvfolds<a class="anchor" aria-label="anchor" href="#arg-cvfolds"></a></dt>
<dd><p>Number of cross-validation folds used in each model
for automatic parameter selection, default is <code>5</code>.</p></dd>


<dt id="arg-reptimes">reptimes<a class="anchor" aria-label="anchor" href="#arg-reptimes"></a></dt>
<dd><p>Number of models to build with Monte-Carlo resampling
or bootstrapping.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Resampling method. <code>"mc"</code> (Monte-Carlo resampling)
or <code>"boot"</code> (bootstrapping). Default is <code>"mc"</code>.</p></dd>


<dt id="arg-ratio">ratio<a class="anchor" aria-label="anchor" href="#arg-ratio"></a></dt>
<dd><p>Sampling ratio used when <code>method = "mc"</code>.</p></dd>


<dt id="arg-parallel">parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p>Integer. Number of CPU cores to use.
Default is <code>1</code> (not parallelized).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing four components:</p><ul><li><p><code>error.mean</code> - error mean for all samples (absolute value)</p></li>
<li><p><code>error.median</code> - error median for all samples</p></li>
<li><p><code>error.sd</code> - error sd for all samples</p></li>
<li><p><code>predict.error.matrix</code> - the original prediction error matrix</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>To maximize the probablity that each observation can
be selected in the test set (thus the prediction uncertainty
can be measured), please try setting a large <code>reptimes</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>See <code><a href="enpls.fs.html">enpls.fs</a></code> for measuring feature importance with
ensemble partial least squares regressions.
See <code><a href="enpls.fit.html">enpls.fit</a></code> for fitting ensemble partial least
squares regression models.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Nan Xiao &lt;<a href="https://nanx.me" class="external-link">https://nanx.me</a>&gt;</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"alkanes"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">alkanes</span><span class="op">$</span><span class="va">x</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">alkanes</span><span class="op">$</span><span class="va">y</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">od</span> <span class="op">&lt;-</span> <span class="fu">enpls.od</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, reptimes <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">od</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Outlier Detection by Ensemble Partial Least Squares</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mean residual for each sample:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1]  2.961290487 10.705505984  2.695084840  3.311091685  2.805275319</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [6]  0.653303940  2.406471830  0.060138450  1.085301918  0.681639253</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [11]  0.602668291  0.051825623  5.074258601  0.401223791  0.200469288</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [16]  4.510123865  1.691529502  0.145738484  1.525737814  2.765037846</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [21]  0.166203922  0.139797229  2.696201419  0.193069694  0.183589250</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [26]  2.914078924  0.416333768  0.521945702  3.580281229  0.818709605</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [31]  2.373884289  0.046727036  0.619399010  0.256234952  0.939652083</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [36]  1.173721209  2.024661441  1.809535161  2.154042307  0.644501989</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [41]  0.061133489  2.444588094  1.098370439  1.603545811  2.163023752</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [46]  1.402565514  1.451659515  2.139296149  2.443892391  1.997895711</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [51]  1.029372888  1.136841149  6.421380060  2.649873372  1.224674598</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [56]  0.964921264  2.919868131  3.793601358  1.120247119  0.042588935</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [61]  0.363153216  3.165008537 17.162269124  6.528451648  0.520605496</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [66]  2.687075808  2.837691454  0.396424034  1.586470400  1.549832092</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [71]  0.122850422  1.412340751  0.697607289  1.569135383  0.123461109</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [76]  3.449456659  1.446110833  1.469166518  1.951656184  1.363008306</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [81]  0.100632290  0.214244858  6.822557951  0.781231958  2.558088525</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [86]  1.693194231  1.705163184  1.594881212  0.618256405  0.481129274</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [91]  1.022913007  4.341302506  1.110030176  3.176739370  7.516301621</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [96]  1.862482389  3.146321553  1.282671387  1.549270795  0.543544329</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [101]  1.609953582  1.539486441  1.097285036  0.463297596  0.363243731</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [106]  1.711660532  0.109005089  0.383383442  3.109554290  2.025583099</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [111]  2.201838698  3.600461547  3.105103207  2.633412696  0.729670194</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [116]  0.008296581  3.552415058  0.578271953  2.078384037  3.902482546</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [121]  1.727881731  3.650065811  0.051772790  2.497201225  0.467536756</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [126]  1.489009588  0.340541361  0.132148886  0.045135994  4.427647349</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [131]  5.731789181  3.981627154  1.716354159  0.601427917  3.652150258</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [136]  0.133532207  1.154975295  4.738600731  4.734765402  6.532606222</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [141]  3.127767647  0.576464339  2.530101636  3.654622902  0.818384270</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [146]  0.951243454  4.200623693  3.203804245  0.045774602  3.965457304</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [151]  2.838265623  2.248011967  0.231138969  1.688400253 11.172263932</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [156]  2.510655273  2.348956100  0.744693282  3.031595000  3.711339945</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [161]  1.056457714  0.760364230  5.608100327  0.935520150  5.458962465</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [166]  0.927523129 12.972029443  8.165533524  5.328551168  2.484859013</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [171]  1.426435908  3.418963109  3.510966949  9.082680058  5.707308495</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [176]  3.787580722  4.998185217  0.787402138  0.843890420  1.977324388</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [181]  2.970935803  1.865369664  4.064825229  0.754344632  4.640244745</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [186]  1.208198413  3.029808379  2.870715190  1.474642147  0.794823265</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [191]  4.756522825  0.808924951  4.646357523  1.529725624  3.158674232</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [196]  0.126320735 10.757378072  4.493208107  8.261099389  3.629763251</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [201]  4.294356510  2.396207505  1.086055946  5.281273194  2.343797603</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [206]  2.393339996  5.608819248</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residual SD for each sample:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 2.0295383 3.4591717 0.7499505 2.3497525 1.3438661 0.3988746 1.3521295</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [8] 0.6652582 1.4428361 0.4479827 1.1262145 0.8221188 0.9776006 0.6809018</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [15] 0.6082052 0.8580075 0.4563067 0.5095403 0.7951279 0.6467609 0.2721467</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [22] 0.6421179 0.6828399 0.4560934 0.4037567 0.6743393 0.3928832 0.6132695</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [29] 0.8256517 0.4056097 0.6128104 0.4178502 0.4754206 0.1959964 0.7369961</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [36] 0.4117097 1.7630091 0.3959147 0.8356341 0.3178605 0.4366360 0.3783586</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [43] 0.4867093 1.3986540 0.4482564 0.4912262 1.1030168 0.5667523 0.5239153</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [50] 0.3305965 0.4215010 0.5583729 0.4475138 1.3956538 0.5452551 0.4287959</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [57] 0.4345434 0.2303998 0.3009805 0.5306827 0.3846033 0.4022502 0.4005202</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [64] 0.3321732 1.9126931 0.8840468 0.2943275 0.6316034 0.2845289 0.2691855</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [71] 0.5016976 0.6198970 0.5633499 0.5270424 2.3760941 0.4301166 1.1617749</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [78] 0.2173916 0.4655769 0.3940509 0.3757747 0.3497275 0.3408768 0.5654717</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [85] 0.5408820 0.2431220 0.3395991 0.5735671 0.4370117 0.2435098 0.2388147</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [92] 0.3611832 0.7032879 0.3711193 0.4676772 0.4741993 0.6589015 0.6691025</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [99] 0.2896359 0.4720292 0.4810888 0.3346725 0.2942896 0.4406352 0.6772854</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [106] 0.6753430 0.4242848 0.5187864 0.2329660 0.6413186 0.4552588 0.8210198</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [113] 0.5212761 0.5316555 0.6732566 0.6948988 0.5722847 0.7572715 0.8682066</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [120] 1.1984446 0.9276504 0.3272545 0.3763540 0.6842576 0.7662407 1.5708247</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [127] 0.4425074 0.5372279 0.8630043 0.3355082 0.7097854 2.8301358 0.6207378</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [134] 0.5604660 0.7827631 0.3548840 0.8135893 0.2485782 1.0185353 2.7216649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [141] 0.3765149 0.7282017 0.3539299 0.7998218 0.6350542 0.3872337 0.3196118</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [148] 0.7272254 0.3906945 0.9074750 0.4313804 0.6164112 0.3909732 0.4712198</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [155] 0.9828852 0.4958444 0.3522701 1.0701713 0.7098826 1.2925881 0.8318430</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [162] 0.4494351 0.7327667 0.5391705 0.5821006 0.5230504 1.0236914 0.8394606</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [169] 1.1569645 4.2022268 1.0436467 1.0621529 0.5589578 1.2767804 0.6687279</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [176] 1.1668815 0.6607189 0.4421853 0.2008011 1.5162833 0.6090324 0.5296534</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [183] 0.1686241 0.4156801 0.4007409 0.4526070 0.2362218 1.3948848 0.3850594</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [190] 0.3991635 0.3768532 0.2678034 0.3900775 0.7123945 0.7198617 0.5281178</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [197] 1.2265782 0.7673352 0.4887232 0.2826173 0.4897703 0.8893651 0.4974242</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [204] 0.8264030 0.6131327 0.7606467 0.2861122</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">od</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="enpls.od-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">od</span>, criterion <span class="op">=</span> <span class="st">"sd"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="enpls.od-2.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nan Xiao, Dong-Sheng Cao, Miao-Zhu Li, Qing-Song Xu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

